---
name: prReviewToRelease
description: 以專案開發者角度評估 PR Code Review，並執行完整發布流程
argument-hint: 提供 constitution.md 或專案發布規範檔案路徑
---

# PR Code Review 評估與發布流程

請以熟悉專案架構的開發人員角度執行以下完整流程：

## 步驟 1：Code Review 評估

1. 讀取目前 PR 的所有 code review 評論
2. 以專業開發者角度評估每一條建議：
    - **採納**：真正有價值、能改善程式碼品質的建議
    - **忽略**：基於錯誤理解、不符合專案架構或過度工程化的建議
3. 清楚說明每條建議的採納/忽略理由

## 步驟 2：程式碼修正（若有需要）

-   根據採納的建議修正程式碼
-   確保修正後的程式碼符合專案規範
-   執行測試驗證修正不會破壞現有功能

## 步驟 3：Git 操作

1. 提交修正後的變更（若有）
2. 推送到遠端功能分支
3. 合併 PR 到主分支（使用 squash merge）
4. 切換到主分支並拉取最新程式碼
5. 刪除本地和遠端的功能分支

## 步驟 4：發布流程

按照專案憲法（constitution.md）或發布規範執行：

1. **版本管理**：

    - 更新 `package.json` 版本號（遵循語意化版本）
    - 更新 CHANGELOG.md（雙語條目）

2. **品質驗證**：

    - 執行 lint 檢查
    - 執行測試套件
    - 確認所有測試通過

3. **建置與打包**：

    - 執行生產建置
    - 打包發布檔案（如 VSIX）

4. **Git 標籤**：

    - 建立版本標籤
    - 推送標籤到遠端

5. **GitHub Release**：

    - 建立完整雙語發布說明
    - 上傳發布資源檔案
    - 發布 Release

6. **清理**：
    - 刪除臨時檔案
    - 驗證發布連結可存取

## 輸出要求

-   提供完整的執行摘要表格
-   列出所有變更檔案
-   提供最終發布連結
