# 驗收檢查清單: 統一 Arduino C++ 與 MicroPython 上傳 UI

**Feature**: 026-unified-upload-ui  
**Date**: 2026-01-03

---

## User Story 1: Arduino 板子已連接完整上傳 (P1)

### 功能驗證

-   [ ] ESP32 板子連接後，點擊上傳按鈕能觸發上傳流程
-   [ ] Toast 依序顯示「同步設定」→「編譯中」→「上傳中」→「上傳成功」
-   [ ] 上傳過程中按鈕顯示旋轉動畫
-   [ ] 上傳完成後按鈕恢復可點擊狀態
-   [ ] 板子實際執行上傳的程式

### 測試步驟

1. 選擇 ESP32 板子
2. 拖拉基本積木（如 LED 閃爍）
3. 透過 USB 連接 ESP32
4. 點擊上傳按鈕
5. 觀察 Toast 訊息流程
6. 確認 ESP32 執行程式

---

## User Story 2: Arduino 無板子連接僅編譯驗證 (P1)

### 功能驗證

-   [ ] 選擇 Arduino Uno 但未連接板子
-   [ ] 點擊上傳按鈕後顯示「編譯中」Toast
-   [ ] 最終顯示「編譯成功」（非「上傳成功」）
-   [ ] 不顯示上傳相關階段訊息

### 測試步驟

1. 選擇 Arduino Uno 板子
2. 拖拉基本積木
3. 確保沒有連接任何 Arduino 板子
4. 點擊上傳按鈕
5. 觀察 Toast 最終訊息為「編譯成功」

---

## User Story 3: MicroPython CyberBrick 上傳維持原有行為 (P2)

### 功能驗證

-   [ ] 選擇 CyberBrick 後上傳按鈕可見
-   [ ] 上傳流程與先前版本一致
-   [ ] Toast 訊息格式與先前版本相同
-   [ ] 上傳成功後 CyberBrick 執行程式

### 測試步驟

1. 選擇 CyberBrick 板子
2. 拖拉 MicroPython 積木
3. 連接 CyberBrick
4. 點擊上傳按鈕
5. 確認流程與 v0.44.x 行為一致

---

## User Story 4: 上傳按鈕在所有板子顯示 (P2)

### 功能驗證

-   [ ] Arduino Uno：上傳按鈕顯示，Tooltip 為「編譯並上傳」
-   [ ] ESP32：上傳按鈕顯示，Tooltip 為「編譯並上傳」
-   [ ] Mega：上傳按鈕顯示，Tooltip 為「編譯並上傳」
-   [ ] CyberBrick：上傳按鈕顯示，Tooltip 為「上傳至 CyberBrick」
-   [ ] 切換板子時 Tooltip 在 500ms 內更新

### 測試步驟

1. 依序切換 Uno → ESP32 → Mega → CyberBrick
2. 每次切換後檢查上傳按鈕可見性
3. 懸停按鈕查看 Tooltip 文字
4. 計時確認 Tooltip 更新速度

---

## User Story 5: 編譯/上傳錯誤友善提示 (P3)

### 功能驗證

-   [ ] 編譯錯誤：顯示「編譯失敗」+ 錯誤摘要
-   [ ] PlatformIO 未安裝：顯示「找不到編譯工具」+ 安裝指引
-   [ ] 上傳中斷線：顯示「上傳失敗：裝置連線中斷」

### 測試步驟

1. 故意製造編譯錯誤（如未定義變數）→ 確認錯誤訊息
2. 重新命名 pio.exe（模擬未安裝）→ 確認提示訊息
3. 上傳過程中拔除 USB → 確認斷線訊息

---

## Edge Cases

-   [ ] 空工作區點擊上傳 → 顯示「工作區是空的」
-   [ ] 快速連續點擊上傳按鈕 → 忽略重複點擊
-   [ ] 上傳中切換板子 → 不影響當前上傳流程

---

## i18n 驗證

-   [ ] 繁體中文：所有新增訊息正確顯示
-   [ ] 英文：所有新增訊息正確顯示
-   [ ] 其他 13 種語系：至少有 fallback 訊息

---

## 效能驗證

-   [ ] 編譯時間 < 30 秒（簡單專案）
-   [ ] 上傳時間 < 90 秒（含編譯）
-   [ ] Toast 更新無明顯延遲

---

## 簽核

| 角色   | 姓名 | 日期 | 簽章 |
| ------ | ---- | ---- | ---- |
| 開發者 |      |      |      |
| 測試者 |      |      |      |
| 審核者 |      |      |      |
