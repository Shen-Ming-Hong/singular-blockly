# Tasks: éšæ®µ 1 å®‰å…¨å‡ç´š - å‹åˆ¥å®šç¾©èˆ‡ TypeScript ç›®æ¨™

**Input**: è¨­è¨ˆæ–‡ä»¶ä¾†è‡ª `/specs/007-safe-types-upgrade/`  
**Prerequisites**: plan.md âœ…, spec.md âœ…, research.md âœ…, data-model.md âœ…, contracts/ âœ…, quickstart.md âœ…

**æ¸¬è©¦ç­–ç•¥**: æœ¬åŠŸèƒ½ä½¿ç”¨ç¾æœ‰æ¸¬è©¦å¥—ä»¶ (190 æ¸¬è©¦) é©—è­‰å‡ç´š,ç„¡éœ€æ–°å¢æ¸¬è©¦æª”æ¡ˆã€‚æ‰€æœ‰é©—è­‰é€éåŸ·è¡Œç¾æœ‰æ¸¬è©¦å®Œæˆã€‚

**ä»»å‹™çµ„ç¹”**: ä»»å‹™æŒ‰ User Story çµ„ç¹”,æ¯å€‹ Story å¯ç¨ç«‹å¯¦ä½œå’Œé©—è­‰ã€‚

---

## æ ¼å¼: `[ID] [P?] [Story] èªªæ˜`

-   **[P]**: å¯ä¸¦è¡ŒåŸ·è¡Œ (ä¸åŒæª”æ¡ˆ,ç„¡ä¾è³´)
-   **[Story]**: ä»»å‹™æ‰€å±¬çš„ User Story (ä¾‹: US1, US2, US3)
-   æ‰€æœ‰èªªæ˜åŒ…å«æ˜ç¢ºçš„æª”æ¡ˆè·¯å¾‘

---

## Phase 0: ç ”ç©¶èˆ‡é©—è­‰ (å·²å®Œæˆ âœ…)

**ç›®çš„**: é©—è­‰å‡½å¼åº«ç›¸å®¹æ€§,æ”¶é›†æ¬Šå¨æ–‡ä»¶,ç¢ºä¿å¯æ¸¬è©¦è¨­è¨ˆ

**ç‹€æ…‹**: âœ… å·²å®Œæˆ - research.md å·²å»ºç«‹ä¸¦è¨˜éŒ„æ‰€æœ‰ç™¼ç¾

**å®Œæˆé …ç›®**:

-   âœ… ä½¿ç”¨ MCP `resolve-library-id` æœå°‹ @types/vscode å’Œ @types/node æ–‡ä»¶
-   âœ… ä½¿ç”¨ MCP `webSearch` é©—è­‰ VSCode API 1.96â†’1.105 ç„¡ç ´å£æ€§è®Šæ›´
-   âœ… é©—è­‰ Node.js 22.x å‹åˆ¥å®šç¾©å‘å¾Œç›¸å®¹
-   âœ… ç¢ºèª ES2023 åœ¨ TypeScript 5.9.3 å’Œ VSCode Runtime å®Œå…¨æ”¯æ´
-   âœ… è¨˜éŒ„ç ”ç©¶ç™¼ç¾æ–¼ research.md (5,000+ è¡Œ)
-   âœ… é¢¨éšªè©•ä¼°: æ‰€æœ‰å‡ç´šé …ç›® ğŸŸ¢ æ¥µä½é¢¨éšª

**Checkpoint**: ç ”ç©¶å®Œæˆ - æ‰€æœ‰æŠ€è¡“æ±ºç­–åŸºæ–¼æœ€æ–°è³‡è¨Š,å¯å®‰å…¨é€²å…¥å¯¦ä½œéšæ®µ

---

## Phase 1: æº–å‚™èˆ‡é©—è­‰ (Setup & Verification)

**ç›®çš„**: ç¢ºä¿ç’°å¢ƒæº–å‚™å°±ç·’,å»ºç«‹ä¹¾æ·¨çš„å‡ç´šèµ·é»

-   [x] T001 é©—è­‰é–‹ç™¼ç’°å¢ƒç‰ˆæœ¬ç¬¦åˆå‰ç½®è¦æ±‚
    -   æª¢æŸ¥ Node.js â‰¥ 22.16.0
    -   æª¢æŸ¥ npm â‰¥ 10.8.1
    -   æª¢æŸ¥ VSCode â‰¥ 1.96.0
    -   åŸ·è¡Œ `git status` ç¢ºèªå·¥ä½œç›®éŒ„ä¹¾æ·¨
    -   è¨˜éŒ„ç•¶å‰ç‰ˆæœ¬æ–¼çµ‚ç«¯è¼¸å‡º
-   [x] T002 å»ºç«‹å‡ç´šå‰çš„åŸºæº–æ¸¬é‡

    -   åŸ·è¡Œ `npm run compile` è¨˜éŒ„ç·¨è­¯æ™‚é–“ (åŸºæº–: 4.6s)
    -   åŸ·è¡Œ `npm test` è¨˜éŒ„æ¸¬è©¦æ™‚é–“ (åŸºæº–: 19.6s) å’Œè¦†è“‹ç‡ (åŸºæº–: 87.21%)
    -   è¨˜éŒ„ dist/extension.js å¤§å° (åŸºæº–: 130,506 bytes)
    -   å„²å­˜åŸºæº–è³‡æ–™ä¾› Phase 4 æ¯”è¼ƒ

-   [x] T003 [P] å»ºç«‹å‡ç´šåˆ†æ”¯ä¸¦å‚™ä»½ç•¶å‰ç‹€æ…‹
    -   ç¢ºèªå·²åœ¨ `007-safe-types-upgrade` åˆ†æ”¯
    -   åŸ·è¡Œ `git stash` å„²å­˜ä»»ä½•æœªæäº¤è®Šæ›´ (å¦‚æœæœ‰)
    -   å»ºç«‹å‚™ä»½æ¨™ç±¤: `git tag backup-pre-upgrade-$(Get-Date -Format 'yyyyMMdd-HHmmss')`

**Checkpoint**: ç’°å¢ƒé©—è­‰å®Œæˆ - åŸºæº–è³‡æ–™å·²è¨˜éŒ„,å¯å®‰å…¨é€²å…¥å‡ç´šéšæ®µ

---

## Phase 2: User Story 1 - VSCode API å‹åˆ¥å®šç¾©å‡ç´š (Priority: P1) ğŸ¯ MVP

**ç›®æ¨™**: å‡ç´š @types/vscode å‹åˆ¥å®šç¾©å¾ 1.96.0 è‡³ 1.105.0,ç²å¾—æœ€æ–° VSCode API å‹åˆ¥æç¤º

**ç¨ç«‹æ¸¬è©¦**: åŸ·è¡Œ `npm run compile` é©—è­‰ç„¡å‹åˆ¥éŒ¯èª¤,åŸ·è¡Œ `npm test` ç¢ºèª 190/190 æ¸¬è©¦é€šé

**é¢¨éšªç­‰ç´š**: ğŸŸ¢ æ¥µä½ (research.md ç¢ºèªç„¡ç ´å£æ€§è®Šæ›´)

### å¯¦ä½œ User Story 1

-   [x] T004 [US1] æ›´æ–° package.json ä¸­çš„ @types/vscode ç‰ˆæœ¬

    -   é–‹å•Ÿ `E:\singular-blockly\package.json`
    -   åœ¨ `devDependencies` ä¸­æ›´æ–°: `"@types/vscode": "^1.105.0"`
    -   å„²å­˜æª”æ¡ˆä½†**ä¸åŸ·è¡Œ** npm install (ç­‰å¾… T006 ä¸€èµ·å®‰è£)

-   [x] T005 [US1] æ¸…ç†èˆŠä¾è³´ä¸¦é‡æ–°å®‰è£

    -   åŸ·è¡Œ `Remove-Item node_modules -Recurse -Force`
    -   åŸ·è¡Œ `Remove-Item package-lock.json -Force`
    -   åŸ·è¡Œ `npm install`
    -   é©—è­‰å®‰è£æˆåŠŸ: `npm list @types/vscode` æ‡‰é¡¯ç¤º 1.105.0

-   [x] T006 [US1] åŸ·è¡Œ Checkpoint 1: å‹åˆ¥æª¢æŸ¥é©—è­‰

    -   åƒè€ƒ `contracts/checkpoint-1-type-check.md`
    -   åŸ·è¡Œ `npm run compile`
    -   é©—è­‰ç·¨è­¯æˆåŠŸ (exit code 0)
    -   é©—è­‰ç„¡ TypeScript éŒ¯èª¤
    -   é©—è­‰ç·¨è­¯æ™‚é–“ â‰¤ 5 ç§’
    -   é©—è­‰ dist/extension.js å·²ç”Ÿæˆ

-   [x] T007 [US1] åŸ·è¡Œåˆæ­¥æ¸¬è©¦é©—è­‰ US1 åŠŸèƒ½æ­£å¸¸
    -   åŸ·è¡Œ `npm test`
    -   é©—è­‰ 190/190 æ¸¬è©¦é€šé
    -   é©—è­‰æ¸¬è©¦åŸ·è¡Œæ™‚é–“ â‰¤ 22 ç§’
    -   é©—è­‰è¦†è“‹ç‡ â‰¥ 87.21%
    -   **ä¸æäº¤** - ç­‰å¾… US2 å’Œ US3 å®Œæˆå¾Œä¸€èµ·æäº¤

**Checkpoint US1**: æ­¤æ™‚ @types/vscode å·²æˆåŠŸå‡ç´š,å‹åˆ¥æª¢æŸ¥å’Œæ¸¬è©¦å‡é€šé,US1 åŠŸèƒ½ç¨ç«‹é©—è­‰å®Œæˆ

---

## Phase 3: User Story 2 - Node.js å‹åˆ¥å®šç¾©å‡ç´š (Priority: P2)

**ç›®æ¨™**: å‡ç´š @types/node å‹åˆ¥å®šç¾©å¾ 20.19.22 è‡³ 22.x,èˆ‡åŸ·è¡Œç’°å¢ƒ Node.js 22.16.0 å°é½Š

**ç¨ç«‹æ¸¬è©¦**: åŸ·è¡Œ `npm run compile` å’Œ `npm test` é©—è­‰ Node.js API å‹åˆ¥æ­£ç¢º

**é¢¨éšªç­‰ç´š**: ğŸŸ¢ æ¥µä½ (Node.js 22.x å‹åˆ¥å®šç¾©å‘å¾Œç›¸å®¹)

**ä¾è³´**: US1 å¿…é ˆå®Œæˆ (package.json å·²æ›´æ–°æµç¨‹)

### å¯¦ä½œ User Story 2

-   [x] T008 [US2] æ›´æ–° package.json ä¸­çš„ @types/node ç‰ˆæœ¬

    -   é–‹å•Ÿ `E:\singular-blockly\package.json`
    -   åœ¨ `devDependencies` ä¸­æ›´æ–°: `"@types/node": "^22.0.0"`
    -   å„²å­˜æª”æ¡ˆ

-   [x] T009 [US2] é‡æ–°å®‰è£ä¾è³´ä»¥å¥—ç”¨ @types/node å‡ç´š

    -   åŸ·è¡Œ `Remove-Item node_modules -Recurse -Force`
    -   åŸ·è¡Œ `Remove-Item package-lock.json -Force`
    -   åŸ·è¡Œ `npm install`
    -   é©—è­‰å®‰è£æˆåŠŸ: `npm list @types/node` æ‡‰é¡¯ç¤º 22.x.x
    -   åŒæ™‚é©—è­‰ @types/vscode ä»ç‚º 1.105.0 (US1 ä¿æŒ)

-   [x] T010 [US2] é‡æ–°åŸ·è¡Œ Checkpoint 1: é©—è­‰ Node.js å‹åˆ¥ç›¸å®¹æ€§

    -   åƒè€ƒ `contracts/checkpoint-1-type-check.md`
    -   åŸ·è¡Œ `npm run compile`
    -   é©—è­‰ç·¨è­¯æˆåŠŸ,ç‰¹åˆ¥æª¢æŸ¥ Node.js API ä½¿ç”¨ (FileService ä¸­çš„ fs æ“ä½œ)
    -   é©—è­‰ç„¡å‹åˆ¥ä¸åŒ¹é…è­¦å‘Š
    -   é©—è­‰ç·¨è­¯æ™‚é–“ç¶­æŒ â‰¤ 5 ç§’

-   [x] T011 [US2] åŸ·è¡Œå®Œæ•´æ¸¬è©¦é©—è­‰ US1+US2 åŠŸèƒ½æ­£å¸¸
    -   åŸ·è¡Œ `npm test`
    -   é©—è­‰ 190/190 æ¸¬è©¦é€šé
    -   é©—è­‰è¦†è“‹ç‡ â‰¥ 87.21%
    -   ç‰¹åˆ¥é—œæ³¨ FileService, SettingsManager ç›¸é—œæ¸¬è©¦ (ä½¿ç”¨ Node.js API)
    -   **ä¸æäº¤** - ç­‰å¾… US3 å®Œæˆå¾Œä¸€èµ·æäº¤

**Checkpoint US2**: æ­¤æ™‚ @types/node å·²æˆåŠŸå‡ç´š,èˆ‡ Node.js 22.16.0 runtime å°é½Š,US1+US2 åŠŸèƒ½ç¨ç«‹é©—è­‰å®Œæˆ

---

## Phase 4: User Story 3 - TypeScript ç·¨è­¯ç›®æ¨™å‡ç´š (Priority: P3)

**ç›®æ¨™**: å‡ç´š TypeScript ç·¨è­¯ç›®æ¨™å¾ ES2022 è‡³ ES2023,ä½¿ç”¨æœ€æ–° ECMAScript æ¨™æº–

**ç¨ç«‹æ¸¬è©¦**: ä¿®æ”¹ tsconfig.json,åŸ·è¡Œå®Œæ•´ç·¨è­¯ã€æ¸¬è©¦å’Œå»ºç½®æµç¨‹é©—è­‰

**é¢¨éšªç­‰ç´š**: ğŸŸ¢ æ¥µä½ (ES2023 åœ¨ TypeScript 5.9.3 å’Œ VSCode Runtime å®Œå…¨æ”¯æ´)

**ä¾è³´**: US1 å’Œ US2 å¿…é ˆå®Œæˆä¸”ç©©å®š

### å¯¦ä½œ User Story 3

-   [x] T012 [US3] æ›´æ–° tsconfig.json çš„ç·¨è­¯ç›®æ¨™

    -   é–‹å•Ÿ `E:\singular-blockly\tsconfig.json`
    -   åœ¨ `compilerOptions` ä¸­æ›´æ–°: `"target": "ES2023"`
    -   åœ¨ `compilerOptions` ä¸­æ›´æ–°: `"lib": ["ES2023"]`
    -   å„²å­˜æª”æ¡ˆ

-   [x] T013 [US3] åŸ·è¡Œ Checkpoint 1: é©—è­‰ ES2023 ç·¨è­¯è¨­å®š

    -   åƒè€ƒ `contracts/checkpoint-1-type-check.md`
    -   åŸ·è¡Œ `npm run compile`
    -   é©—è­‰ç·¨è­¯æˆåŠŸ
    -   é©—è­‰ç„¡ ES2023 ç›¸é—œéŒ¯èª¤
    -   é©—è­‰ç·¨è­¯æ™‚é–“ç¶­æŒ â‰¤ 5 ç§’

-   [x] T014 [US3] åŸ·è¡Œ Checkpoint 2: å®Œæ•´æ¸¬è©¦å¥—ä»¶é©—è­‰

    -   åƒè€ƒ `contracts/checkpoint-2-test-suite.md`
    -   åŸ·è¡Œ `npm test`
    -   é©—è­‰ 190/190 æ¸¬è©¦é€šé (100% é€šéç‡)
    -   é©—è­‰æ¸¬è©¦åŸ·è¡Œæ™‚é–“ â‰¤ 22 ç§’
    -   é©—è­‰è¦†è“‹ç‡ â‰¥ 87.21% (å…è¨± -0.5% èª¤å·®,å³ â‰¥ 86.71%)
    -   æª¢æŸ¥ç„¡æ¸¬è©¦è¿´æ­¸æˆ–è¶…æ™‚

-   [x] T015 [US3] åŸ·è¡Œ Checkpoint 3: å»ºç½®ç”¢ç‰©é©—è­‰

    -   åƒè€ƒ `contracts/checkpoint-3-build-artifact.md`
    -   æª¢æŸ¥ dist/extension.js æª”æ¡ˆå¤§å°
    -   è¨ˆç®—ç›¸å°åŸºæº–ç·š (130,506 bytes) çš„è®ŠåŒ–ç™¾åˆ†æ¯”
    -   é©—è­‰å¤§å°è®ŠåŒ–åœ¨ Â±5% ç¯„åœå…§ (123,980 - 137,031 bytes)
    -   è¨˜éŒ„å¯¦éš›å¤§å°å’Œè®ŠåŒ–ç™¾åˆ†æ¯”
    -   **æ•…éšœæ’é™¤**: è‹¥å¤§å°è®ŠåŒ–è¶…é Â±5%,æª¢æŸ¥ webpack è¼¸å‡ºæ˜¯å¦å¼•å…¥ä¸å¿…è¦çš„ polyfills æˆ–ä¾è³´ (å¯ä½¿ç”¨ webpack-bundle-analyzer åˆ†æ)
    -   **æ•…éšœæ’é™¤**: è‹¥å¤§å°è®ŠåŒ–è¶…é Â±5%,æª¢æŸ¥ webpack è¼¸å‡ºæ˜¯å¦å¼•å…¥ä¸å¿…è¦çš„ polyfills æˆ–ä¾è³´ (å¯ä½¿ç”¨ webpack-bundle-analyzer åˆ†æ)

-   [x] T016 [US3] åŸ·è¡Œæ‰‹å‹•åŠŸèƒ½æ¸¬è©¦ (Checkpoint 3 çš„ä¸€éƒ¨åˆ†)
    -   æŒ‰ F5 å•Ÿå‹• Extension Development Host
    -   é©—è­‰æ“´å……åŠŸèƒ½æ­£å¸¸å•Ÿå‹• (æª¢æŸ¥ Debug Console ç„¡åš´é‡éŒ¯èª¤)
    -   æ¸¬è©¦æ ¸å¿ƒåŠŸèƒ½:
        -   [ ] é–‹å•Ÿ Blockly ç·¨è¼¯å™¨ (å³éµ .ino æª”æ¡ˆ â†’ "Open with Blockly Editor")
        -   [ ] æ‹–æ›³ç©æœ¨è‡³å·¥ä½œå€
        -   [ ] å„²å­˜å·¥ä½œå€ (è‡ªå‹•å„²å­˜è‡³ blockly/main.json)
        -   [ ] åˆ‡æ› Light/Dark ä¸»é¡Œ
        -   [ ] ç”¢ç”Ÿ Arduino ç¨‹å¼ç¢¼ (æ‹–æ›³ setup_loop ç©æœ¨)
    -   ç¢ºèªæ‰€æœ‰åŠŸèƒ½æ­£å¸¸é‹ä½œ,ä½¿ç”¨è€…é«”é©—ç„¡è®ŠåŒ–

**Checkpoint US3**: æ­¤æ™‚æ‰€æœ‰ä¸‰å€‹ User Story å·²å®Œæˆ,å®Œæ•´å‡ç´šé©—è­‰é€šé

---

## Phase 5: æœ€çµ‚é©—è­‰èˆ‡æ–‡ä»¶æ›´æ–° (Polish & Documentation)

**ç›®çš„**: å®Œæˆå‡ç´šå¾Œçš„æ–‡ä»¶æ›´æ–°å’Œæœ€çµ‚æª¢æŸ¥

-   [x] T017 æ›´æ–° CHANGELOG.md è¨˜éŒ„å‡ç´šå…§å®¹

    -   é–‹å•Ÿ `E:\singular-blockly\CHANGELOG.md`
    -   åœ¨ `## [Unreleased]` å€æ®µä¸‹æ–°å¢:

        ```markdown
        ### Changed

        -   å‡ç´š @types/vscode å¾ 1.96.0 è‡³ 1.105.0
        -   å‡ç´š @types/node å¾ 20.19.22 è‡³ 22.x ä»¥å°é½Š Node.js 22.16.0 runtime
        -   æ›´æ–° TypeScript target å¾ ES2022 è‡³ ES2023

        ### Technical

        -   æ‰€æœ‰è®Šæ›´å‘å¾Œç›¸å®¹,ç„¡ç ´å£æ€§è®Šæ›´
        -   190 æ¸¬è©¦å…¨æ•¸é€šé,è¦†è“‹ç‡ç¶­æŒ 87.21%
        -   å»ºç½®ç”¢ç‰©å¤§å°è®ŠåŒ–: +X.XX% (åœ¨ Â±5% å®¹å¿ç¯„åœå…§)
        ```

    -   å°‡ X.XX% æ›¿æ›ç‚º T015 è¨˜éŒ„çš„å¯¦éš›è®ŠåŒ–ç™¾åˆ†æ¯”
    -   å„²å­˜æª”æ¡ˆ

-   [x] T018 [P] åŸ·è¡Œæœ€çµ‚å®Œæ•´æ€§æª¢æŸ¥

    -   åŸ·è¡Œ `npm run compile` (æœ€å¾Œä¸€æ¬¡ç·¨è­¯æª¢æŸ¥)
    -   åŸ·è¡Œ `npm test` (æœ€å¾Œä¸€æ¬¡æ¸¬è©¦é©—è­‰)
    -   è‹¥å°ˆæ¡ˆæœ‰ lint è…³æœ¬,åŸ·è¡Œ `npm run lint` (ESLint æª¢æŸ¥)
    -   é©—è­‰æ‰€æœ‰æª¢æŸ¥é€šé (ç·¨è­¯å’Œæ¸¬è©¦ç‚ºå¿…è¦,lint ç‚ºå¯é¸)

-   [x] T019 [P] é©—è­‰ package.json å’Œ package-lock.json ä¸€è‡´æ€§

    -   åŸ·è¡Œ `npm list @types/vscode @types/node typescript`
    -   ç¢ºèªç‰ˆæœ¬ç¬¦åˆé æœŸ:
        -   @types/vscode: 1.105.0
        -   @types/node: 22.x.x
        -   typescript: 5.9.3
    -   ç¢ºèª package-lock.json å·²è‡ªå‹•æ›´æ–°

-   [x] T020 æäº¤å‡ç´šè®Šæ›´

    -   åŸ·è¡Œ `git add package.json package-lock.json tsconfig.json CHANGELOG.md`
    -   åŸ·è¡Œ commit:

        ```powershell
        git commit -m "chore: upgrade @types/vscode to 1.105.0 and @types/node to 22.x

        - Upgrade @types/vscode from 1.96.0 to 1.105.0
        - Upgrade @types/node from 20.19.22 to 22.x to align with Node.js 22.16.0 runtime
        - Update TypeScript target from ES2022 to ES2023
        - All 190 tests passing with 87.21% coverage
        - Build artifact size change: +X.XX% (within Â±5% tolerance)

        Checkpoints:
        âœ… Type check passed
        âœ… Test suite passed (190/190)
        âœ… Build artifact validated

        Closes #007-safe-types-upgrade
        "
        ```

    -   å°‡ X.XX% æ›¿æ›ç‚ºå¯¦éš›è®ŠåŒ–ç™¾åˆ†æ¯”

-   [x] T021 [P] é©—è­‰ Constitution åŸå‰‡ç¬¦åˆæ€§ (æœ€çµ‚æª¢æŸ¥)

    -   ç¢ºèªç¬¦åˆ Principle I (Code Entities as Contracts) - ç„¡æ–°å¢å¯¦é«”,ç¾æœ‰å¥‘ç´„ä¸è®Š âœ…
    -   ç¢ºèªç¬¦åˆ Principle V (MCP Tools) - research.md è¨˜éŒ„ MCP å·¥å…·ä½¿ç”¨ âœ…
    -   ç¢ºèªç¬¦åˆ Principle VII (Testing) - 190 æ¸¬è©¦è¦†è“‹ç‡ç¶­æŒ 87.21% âœ…
    -   ç¢ºèªç¬¦åˆ Principle IX (ç¹é«”ä¸­æ–‡) - æ‰€æœ‰æ–‡ä»¶ä½¿ç”¨ç¹é«”ä¸­æ–‡ âœ…

-   [x] T022 å»ºç«‹å‡ç´šå®Œæˆå ±å‘Š
    -   åœ¨çµ‚ç«¯è¼¸å‡ºå‡ç´šæ‘˜è¦ (ä¸éœ€å»ºç«‹æª”æ¡ˆ,åƒ…é¡¯ç¤ºæ–¼çµ‚ç«¯):
        -   å‡ç´šå¥—ä»¶æ¸…å–®å’Œç‰ˆæœ¬
        -   ç·¨è­¯æ™‚é–“ (ç›¸å°åŸºæº–)
        -   æ¸¬è©¦æ™‚é–“ (ç›¸å°åŸºæº–)
        -   å»ºç½®ç”¢ç‰©å¤§å°è®ŠåŒ–
        -   æ‰€æœ‰ Checkpoint é€šéç‹€æ…‹
    -   ç¢ºèªå‡ç´šç¸½æ™‚ç¨‹ â‰¤ 45 åˆ†é˜

**Checkpoint æœ€çµ‚**: å‡ç´šå®Œæˆ,æ‰€æœ‰è®Šæ›´å·²æäº¤,æ–‡ä»¶å·²æ›´æ–°,å¯æ¨é€è‡³é ç«¯æˆ–å»ºç«‹ PR

---

## ä¾è³´é—œä¿‚èˆ‡åŸ·è¡Œé †åº

### Phase ä¾è³´

```
Phase 0 (ç ”ç©¶) âœ… å·²å®Œæˆ
    â†“
Phase 1 (æº–å‚™) - å¿…é ˆå®Œæˆæ‰èƒ½é€²å…¥ User Stories
    â†“
Phase 2 (US1: VSCode å‹åˆ¥) - å¯ç¨ç«‹é–‹å§‹
    â†“
Phase 3 (US2: Node.js å‹åˆ¥) - ä¾è³´ US1 (package.json å·²æ›´æ–°æµç¨‹)
    â†“
Phase 4 (US3: ES2023 ç›®æ¨™) - ä¾è³´ US1 å’Œ US2 ç©©å®š
    â†“
Phase 5 (æœ€çµ‚é©—è­‰) - ä¾è³´æ‰€æœ‰ User Stories å®Œæˆ
```

### User Story ä¾è³´é—œä¿‚

-   **US1 (P1)**: å¯åœ¨ Phase 1 å®Œæˆå¾Œç«‹å³é–‹å§‹ - ç„¡å…¶ä»– Story ä¾è³´
-   **US2 (P2)**: ä¾è³´ US1 å®Œæˆ (éœ€è¦ package.json å·²æ›´æ–°æµç¨‹)
-   **US3 (P3)**: ä¾è³´ US1 å’Œ US2 å®Œæˆä¸”ç©©å®š (ç¢ºä¿å‹åˆ¥å®šç¾©æ­£ç¢ºå¾Œå†è®Šæ›´ç·¨è­¯ç›®æ¨™)

### é—œéµé †åºè¦å‰‡

1. **åš´æ ¼å¾ªåº**: US1 â†’ US2 â†’ US3 (ä¸å¯ä¸¦è¡Œ,å› ç‚ºå…±ç”¨ package.json å’Œ node_modules)
2. **Checkpoint é †åº**: æ¯å€‹ US å®Œæˆå¾Œå¿…é ˆåŸ·è¡Œå°æ‡‰ Checkpoints å†é€²å…¥ä¸‹ä¸€å€‹ US
3. **å–®ä¸€æäº¤**: æ‰€æœ‰ä¸‰å€‹ US å®Œæˆå¾Œä¸€æ¬¡æ€§æäº¤ (T020),é¿å…ä¸­é–“ç‹€æ…‹

### ä»»å‹™å…§ä¸¦è¡Œæ©Ÿæœƒ

**Phase 1 (æº–å‚™éšæ®µ)**:

-   T002 (åŸºæº–æ¸¬é‡) å’Œ T003 (å‚™ä»½) å¯ä¸¦è¡ŒåŸ·è¡Œ

**Phase 5 (æœ€çµ‚é©—è­‰)**:

-   T018 (å®Œæ•´æ€§æª¢æŸ¥), T019 (ç‰ˆæœ¬é©—è­‰), T021 (åŸå‰‡æª¢æŸ¥) å¯ä¸¦è¡ŒåŸ·è¡Œ

**é™åˆ¶**: User Story å…§çš„ä»»å‹™å¿…é ˆåš´æ ¼å¾ªåºåŸ·è¡Œ,å› ç‚ºéƒ½æ“ä½œç›¸åŒæª”æ¡ˆ

---

## ä¸¦è¡Œç¯„ä¾‹: Phase 1 æº–å‚™éšæ®µ

```powershell
# åŒæ™‚åŸ·è¡Œå…©å€‹ç¨ç«‹ä»»å‹™
Start-Job -ScriptBlock {
    # T002: åŸºæº–æ¸¬é‡
    npm run compile
    npm test
    Get-Item dist/extension.js | Select-Object Length
}

Start-Job -ScriptBlock {
    # T003: å‚™ä»½
    git tag "backup-pre-upgrade-$(Get-Date -Format 'yyyyMMdd-HHmmss')"
}

# ç­‰å¾…æ‰€æœ‰ä»»å‹™å®Œæˆ
Get-Job | Wait-Job | Receive-Job
```

---

## å¯¦ä½œç­–ç•¥

### MVP å„ªå…ˆ (åƒ… User Story 1)

å¦‚æœéœ€è¦æœ€å°å¯è¡Œå‡ç´š:

1. å®Œæˆ Phase 1: æº–å‚™ (T001-T003)
2. å®Œæˆ Phase 2: US1 - VSCode å‹åˆ¥å‡ç´š (T004-T007)
3. **åœæ­¢ä¸¦é©—è­‰**: æ¸¬è©¦ US1 ç¨ç«‹åŠŸèƒ½
4. å¦‚æœ US1 ç©©å®š,å¯é¸æ“‡:
    - ç«‹å³éƒ¨ç½² US1 (åƒ…å‡ç´š @types/vscode)
    - æˆ–ç¹¼çºŒå®Œæˆ US2 å’Œ US3

### å®Œæ•´å‡ç´š (æ¨è–¦)

å®Œæ•´åŸ·è¡Œæ‰€æœ‰ 5 å€‹ Phases:

1. Phase 1: æº–å‚™ â†’ ç’°å¢ƒå°±ç·’
2. Phase 2: US1 â†’ VSCode å‹åˆ¥å‡ç´š âœ…
3. Phase 3: US2 â†’ Node.js å‹åˆ¥å‡ç´š âœ…
4. Phase 4: US3 â†’ ES2023 ç›®æ¨™å‡ç´š âœ…
5. Phase 5: æœ€çµ‚é©—è­‰ â†’ å–®ä¸€æäº¤

**æ¨è–¦åŸå› **: ä¸‰å€‹å‡ç´šé …ç›®äº’ç›¸ç¨ç«‹ä½†ä¸€èµ·æäº¤å¯é¿å…å¤šæ¬¡ npm install å’Œæ¸¬è©¦åŸ·è¡Œ

### æ¼¸é€²å¼äº¤ä»˜

è‹¥éœ€è¦åˆ†éšæ®µé©—è­‰:

1. å®Œæˆ Phase 1 + Phase 2 â†’ é©—è­‰ US1 â†’ æäº¤
2. å®Œæˆ Phase 3 â†’ é©—è­‰ US2 â†’ æäº¤
3. å®Œæˆ Phase 4 â†’ é©—è­‰ US3 â†’ æäº¤
4. Phase 5 â†’ æœ€çµ‚æ–‡ä»¶æ›´æ–°

**æ³¨æ„**: æ­¤ç­–ç•¥éœ€è¦ä¸‰æ¬¡ npm install å’Œæ¸¬è©¦åŸ·è¡Œ,ç¸½æ™‚é–“æœƒè¶…é 45 åˆ†é˜

---

## å›æ»¾ç­–ç•¥

### å®Œæ•´å›æ»¾ (ä»»ä½• Checkpoint å¤±æ•—)

```powershell
# å›æ»¾æ‰€æœ‰è®Šæ›´
git checkout HEAD -- package.json package-lock.json tsconfig.json CHANGELOG.md

# é‡æ–°å®‰è£ä¾è³´
Remove-Item node_modules -Recurse -Force
npm install

# é©—è­‰å›æ»¾æˆåŠŸ
npm run compile
npm test
```

### éƒ¨åˆ†å›æ»¾ (åƒ…å›æ»¾ç‰¹å®š User Story)

**å›æ»¾ US3 (ä¿ç•™ US1+US2)**:

```powershell
# åƒ…å›æ»¾ tsconfig.json
git checkout HEAD -- tsconfig.json
npm run compile
npm test
```

**å›æ»¾ US2+US3 (åƒ…ä¿ç•™ US1)**:

```powershell
# å›æ»¾ package.json ä¸­çš„ @types/node
# æ‰‹å‹•ç·¨è¼¯ package.json æ”¹å› "@types/node": "^20.19.22"
npm install
git checkout HEAD -- tsconfig.json
npm run compile
npm test
```

---

## æ™‚é–“ä¼°ç®—

| Phase    | èªªæ˜                  | é ä¼°æ™‚é–“             |
| -------- | --------------------- | -------------------- |
| 0        | ç ”ç©¶ (å·²å®Œæˆ)         | âœ… å®Œæˆ (è¨­è¨ˆéšæ®µ)   |
| 1        | æº–å‚™èˆ‡é©—è­‰            | 5 åˆ†é˜ (å¯¦ä½œéšæ®µ)    |
| 2        | US1: VSCode å‹åˆ¥å‡ç´š  | 10 åˆ†é˜              |
| 3        | US2: Node.js å‹åˆ¥å‡ç´š | 10 åˆ†é˜              |
| 4        | US3: ES2023 ç›®æ¨™å‡ç´š  | 15 åˆ†é˜ (å«æ‰‹å‹•æ¸¬è©¦) |
| 5        | æœ€çµ‚é©—è­‰èˆ‡æ–‡ä»¶        | 5 åˆ†é˜               |
| **ç¸½è¨ˆ** |                       | **45 åˆ†é˜**          |

**æ³¨æ„**: æ™‚é–“ä¾æ©Ÿå™¨æ•ˆèƒ½å’Œç¶²è·¯é€Ÿåº¦è€Œå®š,npm install å¯èƒ½éœ€è¦æ›´é•·æ™‚é–“

---

## æˆåŠŸæ¨™æº–æª¢æŸ¥æ¸…å–®

### æ‰€æœ‰ User Stories å®Œæˆå¾Œ

-   [ ] âœ… @types/vscode ç‰ˆæœ¬ç‚º 1.105.0
-   [ ] âœ… @types/node ç‰ˆæœ¬ç‚º 22.x.x
-   [ ] âœ… tsconfig.json target ç‚º ES2023
-   [ ] âœ… tsconfig.json lib ç‚º ["ES2023"]
-   [ ] âœ… ç·¨è­¯æˆåŠŸ,ç„¡å‹åˆ¥éŒ¯èª¤
-   [ ] âœ… 190/190 æ¸¬è©¦é€šé (100% é€šéç‡)
-   [ ] âœ… æ¸¬è©¦è¦†è“‹ç‡ â‰¥ 87.21%
-   [ ] âœ… ç·¨è­¯æ™‚é–“ â‰¤ 5 ç§’
-   [ ] âœ… æ¸¬è©¦åŸ·è¡Œæ™‚é–“ â‰¤ 22 ç§’
-   [ ] âœ… å»ºç½®ç”¢ç‰©å¤§å°è®ŠåŒ– Â±5% (123,980 - 137,031 bytes)
-   [ ] âœ… æ‰‹å‹•åŠŸèƒ½æ¸¬è©¦é€šé (5 é …æ ¸å¿ƒåŠŸèƒ½)
-   [ ] âœ… CHANGELOG.md å·²æ›´æ–°
-   [ ] âœ… Git commit å®Œæˆ,è¨Šæ¯ç¬¦åˆ Conventional Commits æ ¼å¼

### Constitution åŸå‰‡ç¬¦åˆæ€§

-   [ ] âœ… Principle I: ç„¡æ–°å¢å¯¦é«”,ç¾æœ‰å¥‘ç´„ä¸è®Š
-   [ ] âœ… Principle V: MCP å·¥å…·ä½¿ç”¨è¨˜éŒ„æ–¼ research.md
-   [ ] âœ… Principle VII: æ¸¬è©¦è¦†è“‹ç‡ç¶­æŒ 87.21%
-   [ ] âœ… Principle VIII: ç„¡å‰¯ä½œç”¨å¼•å…¥ (åƒ…é…ç½®è®Šæ›´)
-   [ ] âœ… Principle IX: æ‰€æœ‰æ–‡ä»¶ä½¿ç”¨ç¹é«”ä¸­æ–‡

---

## æ³¨æ„äº‹é …

-   **åš´æ ¼å¾ªåº**: US1 â†’ US2 â†’ US3 ä¸å¯ä¸¦è¡Œ (å…±ç”¨æª”æ¡ˆ)
-   **å–®ä¸€æäº¤**: ä¸‰å€‹ User Story å®Œæˆå¾Œä¸€æ¬¡æ€§æäº¤
-   **Checkpoint é©—è­‰**: æ¯å€‹ US å®Œæˆå¾Œå¿…é ˆåŸ·è¡Œå°æ‡‰ Checkpoints
-   **æ‰‹å‹•æ¸¬è©¦**: US3 çš„ Checkpoint 3 éœ€è¦æ‰‹å‹•åŠŸèƒ½æ¸¬è©¦ (2 åˆ†é˜)
-   **æ™‚é–“ç·©è¡**: å¯¦éš›æ™‚é–“å¯èƒ½è¶…éé ä¼°,å»ºè­°é ç•™ 60 åˆ†é˜
-   **å›æ»¾æº–å‚™**: ä»»ä½• Checkpoint å¤±æ•—ç«‹å³åŸ·è¡Œå›æ»¾ç¨‹åº

---

**ä»»å‹™æ¸…å–®ç”¢ç”Ÿæ—¥æœŸ**: 2025-10-21  
**ç¸½ä»»å‹™æ•¸**: 22 å€‹ä»»å‹™  
**MVP ç¯„åœ**: Phase 1 + Phase 2 (US1 only) = 6 å€‹ä»»å‹™  
**å®Œæ•´å‡ç´š**: æ‰€æœ‰ 5 å€‹ Phases = 22 å€‹ä»»å‹™  
**é ä¼°ç¸½æ™‚ç¨‹**: 45 åˆ†é˜ (å®Œæ•´å‡ç´š)
