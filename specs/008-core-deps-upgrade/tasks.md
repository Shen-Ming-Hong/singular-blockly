# Tasks: Phase 1 æ ¸å¿ƒä¾è³´å‡ç´š

**Input**: Design documents from `/specs/008-core-deps-upgrade/`  
**Prerequisites**: plan.md âœ…, spec.md âœ…, research.md âœ…, data-model.md âœ…, quickstart.md âœ…

**Tests**: æœ¬å°ˆæ¡ˆå·²æœ‰ 190 å€‹ç¾æœ‰æ¸¬è©¦,å°‡åœ¨å‡ç´šéç¨‹ä¸­é©—è­‰æ‰€æœ‰åŠŸèƒ½ã€‚ç„¡éœ€ç”¢ç”Ÿæ–°æ¸¬è©¦,é™¤éç™¼ç¾æ–°çš„é‚Šç·£æ¡ˆä¾‹ã€‚

**Organization**: ä»»å‹™ä¾ç”¨æˆ¶æ•…äº‹çµ„ç¹”,ä»¥å¯¦ç¾ç¨ç«‹å¯¦ä½œå’Œæ¸¬è©¦ã€‚

---

## Format: `[ID] [P?] [Story] Description`

-   **[P]**: å¯ä¸¦è¡ŒåŸ·è¡Œ (ä¸åŒæª”æ¡ˆ,ç„¡ä¾è³´)
-   **[Story]**: ä»»å‹™æ‰€å±¬ç”¨æˆ¶æ•…äº‹ (US1, US2, US3, US4)
-   æè¿°ä¸­åŒ…å«ç²¾ç¢ºæª”æ¡ˆè·¯å¾‘

---

## Phase 0: Research & Verification (MCP-Powered) âœ… å·²å®Œæˆ

**Purpose**: é©—è­‰å‡½å¼åº«ç›¸å®¹æ€§,è’é›†æ¬Šå¨æ–‡ä»¶,ç¢ºä¿å¯æ¸¬è©¦è¨­è¨ˆ

-   [x] T000 [P] ä½¿ç”¨ MCP `resolve-library-id` æŸ¥è©¢ Blockly å’Œ @blockly/theme-modern æ–‡ä»¶ (å› é€Ÿç‡é™åˆ¶æ”¹ç”¨ webSearch)
-   [x] T001 [P] ä½¿ç”¨ MCP `webSearch` é©—è­‰ Blockly 12.x API ç°½ç« å’Œç›¸å®¹æ€§
-   [x] T002 [P] æœå°‹ç ´å£æ€§è®Šæ›´ã€é·ç§»æŒ‡å—å’Œæœ€ä½³å¯¦è¸
-   [x] T003 åœ¨ research.md è¨˜éŒ„ç ”ç©¶ç™¼ç¾ (å…± 4 å€‹ç ”ç©¶ä»»å‹™å®Œæˆ)
-   [x] T004 é©—è­‰æ‰€æœ‰ç¬¬ä¸‰æ–¹å‡½å¼åº«ç‰ˆæœ¬èˆ‡ç•¶å‰å°ˆæ¡ˆç›¸å®¹
-   [x] T005 [P] è¨­è¨ˆ 100% æ¸¬è©¦è¦†è“‹ç‡æ¶æ§‹ (è­˜åˆ¥ç´”å‡½å¼ã€å‰¯ä½œç”¨ã€æ¨¡çµ„é‚Šç•Œ)
-   [x] T006 [P] è­˜åˆ¥ä¸¦æ¶ˆé™¤å¯æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­çš„ç„¡é™è¿´åœˆæˆ–é˜»å¡æ“ä½œ

**Checkpoint**: âœ… ç ”ç©¶å’Œè¨­è¨ˆé©—è­‰å®Œæˆ - å¯åŸºæ–¼å……åˆ†è³‡è¨Šé€²è¡Œå¯¦ä½œ

---

## Phase 1: Setup (å…±ç”¨åŸºç¤è¨­æ–½)

**Purpose**: å°ˆæ¡ˆåˆå§‹åŒ–å’ŒåŸºæœ¬çµæ§‹æº–å‚™

-   [x] T007 å»ºç«‹ git tag v0.38.0 ä½œç‚ºå‡ç´šå‰é‚„åŸé»
-   [x] T008 [P] å»ºç«‹å‡ç´šæ¸¬è©¦åˆ†æ”¯ `008-core-deps-upgrade` (å·²å»ºç«‹,é©—è­‰ç‹€æ…‹)
-   [x] T009 [P] å‚™ä»½ç•¶å‰ package.json å’Œ package-lock.json åˆ° specs/008-core-deps-upgrade/backups/

**Checkpoint**: âœ… ç‰ˆæœ¬æ§åˆ¶å’Œå‚™ä»½å°±ç·’ - å¯é–‹å§‹ä¾è³´æ›´æ–°

---

## Phase 2: Foundational (é˜»å¡æ€§å‰ç½®æ¢ä»¶)

**Purpose**: æ‰€æœ‰ç”¨æˆ¶æ•…äº‹é–‹å§‹å‰å¿…é ˆå®Œæˆçš„æ ¸å¿ƒåŸºç¤è¨­æ–½

**âš ï¸ é—œéµ**: åœ¨æ­¤éšæ®µå®Œæˆå‰,ç„¡æ³•é–‹å§‹ä»»ä½•ç”¨æˆ¶æ•…äº‹

-   [x] T010 æ›´æ–° package.json ä¸­ Blockly ç‰ˆæœ¬å¾ ^11.2.2 æ”¹ç‚º ^12.3.1
-   [x] T011 æ›´æ–° package.json ä¸­ @blockly/theme-modern ç‰ˆæœ¬å¾ ^6.0.12 æ”¹ç‚º ^7.0.1
-   [x] T012 åŸ·è¡Œ `npm install` ä¸¦è§£æ±ºä¾è³´è¡çª (è‹¥æœ‰)
-   [x] T013 é©—è­‰ TypeScript ç·¨è­¯ç„¡éŒ¯èª¤: `npm run compile`
-   [x] T014 é©—è­‰ webpack æ‰“åŒ…æˆåŠŸä¸” bundle å¤§å°åœ¨ Â±5% ç¯„åœå…§ (åŸºæº–: 130,506 bytes)
-   [x] T015 åŸ·è¡Œå¿«é€Ÿç…™éœ§æ¸¬è©¦: `npm test -- --grep "Extension Tests.*should activate"`
-   [x] T016 è¨˜éŒ„ç·¨è­¯æ™‚é–“å’Œ bundle å¤§å°åŸºæº–åˆ° specs/008-core-deps-upgrade/performance-baseline.md

**Checkpoint**: âœ… åŸºç¤å°±ç·’ - ç”¨æˆ¶æ•…äº‹å¯¦ä½œå¯ä¸¦è¡Œé–‹å§‹

---

## Phase 3: User Story 1 - Blockly æ ¸å¿ƒåº«å‡ç´šè‡³ 12.x (Priority: P1) ğŸ¯ MVP

**Goal**: ç¢ºä¿ Blockly 12.3.1 æ­£ç¢ºåˆå§‹åŒ–,æ‰€æœ‰æ ¸å¿ƒ API æ­£å¸¸é‹ä½œ,ç¾æœ‰å·¥ä½œå€å¯è¼‰å…¥

**Independent Test**: åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶ (190 å€‹æ¸¬è©¦) + æ‰‹å‹•æ¸¬è©¦ç©æœ¨ç·¨è¼¯å™¨è¼‰å…¥å’Œå·¥ä½œå€åºåˆ—åŒ–

### å¯¦ä½œä»»å‹™ (User Story 1)

#### 3.1 Extension Host å‡ç´š

-   [x] T017 [P] [US1] æª¢æŸ¥ src/extension.ts ä¸­çš„ Blockly API å‘¼å« (è‹¥æœ‰)
    -   âœ… é©—è­‰çµæœ: ç„¡ç›´æ¥ Blockly API å‘¼å«,åƒ…å‘½ä»¤è¨»å†Šå’Œ WebView ç®¡ç†
-   [x] T018 [P] [US1] æª¢æŸ¥ src/webview/webviewManager.ts ä¸­çš„ Blockly åˆå§‹åŒ–é‚è¼¯
    -   é©—è­‰ `blocklyUri` è·¯å¾‘æ­£ç¢º
    -   é©—è­‰ WebView è³‡æºè¼‰å…¥é †åº
    -   ç¢ºèª Blockly 12.x è…³æœ¬æ­£ç¢ºå‚³éåˆ° WebView
    -   âœ… é©—è­‰çµæœ: Blockly è³‡æºè¼‰å…¥è·¯å¾‘æ­£ç¢º (node_modules/blockly/)
-   [x] T019 [P] [US1] æª¢æŸ¥ src/webview/messageHandler.ts ä¸­çš„å·¥ä½œå€ç‹€æ…‹è™•ç†
    -   é©—è­‰ `loadWorkspace` è¨Šæ¯è™•ç†
    -   é©—è­‰ `saveWorkspace` è¨Šæ¯è™•ç†
    -   ç¢ºèªåºåˆ—åŒ–æ ¼å¼ç›¸å®¹
    -   âœ… é©—è­‰çµæœ: è¨Šæ¯è™•ç†é‚è¼¯ç„¡ Blockly API ä¾è³´

#### 3.2 WebView Core å‡ç´š

-   [x] T020 [US1] æª¢æŸ¥ media/html/blocklyEdit.html ä¸­çš„ Blockly è…³æœ¬è¼‰å…¥é †åº
    -   é©—è­‰ blockly_compressed.js è¼‰å…¥
    -   é©—è­‰ blocks_compressed.js è¼‰å…¥
    -   é©—è­‰ javascript_compressed.js è¼‰å…¥
    -   é©—è­‰ msg/[lang].js è¼‰å…¥é †åº
    -   âœ… é©—è­‰çµæœ: è…³æœ¬è¼‰å…¥é †åºæ­£ç¢º,ç¬¦åˆ Blockly 12.x è¦æ±‚
-   [x] T021 [US1] æ›´æ–° media/js/blocklyEdit.js ä¸­çš„ Blockly.inject å‘¼å« (ç¬¬ 1068 è¡Œ)
    -   é©—è­‰ WorkspaceOptions åƒæ•¸çµæ§‹
    -   æ¸¬è©¦æ–°å¢çš„ `plugins` åƒæ•¸ (å¯é¸)
    -   ç¢ºèªåˆå§‹åŒ–ç„¡éŒ¯èª¤
    -   âœ… é©—è­‰çµæœ: Blockly.inject() API ç„¡è®Šæ›´,ç¾æœ‰ç¨‹å¼ç¢¼å®Œå…¨ç›¸å®¹
-   [x] T022 [US1] é©—è­‰ media/js/blocklyEdit.js ä¸­çš„åºåˆ—åŒ–é‚è¼¯ (ç¬¬ 345, 568, 1195 è¡Œ)
    -   æ¸¬è©¦ `Blockly.serialization.workspaces.save()`
    -   æ¸¬è©¦ `Blockly.serialization.workspaces.load()`
    -   é©—è­‰ Blockly 11 å·¥ä½œå€æª”æ¡ˆå¯è¼‰å…¥ (å‘å¾Œç›¸å®¹æ€§)
    -   âœ… é©—è­‰çµæœ: Serialization API ç„¡è®Šæ›´,Blockly 11â†’12 å®Œå…¨å‘å¾Œç›¸å®¹
-   [x] T023 [US1] æª¢æŸ¥ media/js/blocklyEdit.js ä¸­çš„äº‹ä»¶è™•ç†å™¨ (ç¬¬ 1209-1337 è¡Œ)
    -   é©—è­‰ `Blockly.Events.BLOCK_MOVE` ç­‰å¸¸æ•¸å¼•ç”¨
    -   æ¸¬è©¦ `workspace.addChangeListener` å›èª¿
    -   ç¢ºèª `Blockly.Events.FINISHED_LOADING` æ­£ç¢ºè§¸ç™¼
    -   âœ… é©—è­‰çµæœ: Events API ç„¡è®Šæ›´,æ‰€æœ‰äº‹ä»¶é¡å‹æ­£å¸¸é‹ä½œ

#### 3.3 å‘å¾Œç›¸å®¹æ€§æ¸¬è©¦

-   [x] T024 [US1] å»ºç«‹ Blockly 11 å·¥ä½œå€æ¸¬è©¦æª”æ¡ˆ (test/fixtures/blockly11-workspace.json)
    -   â­ï¸ è·³é: Blockly 12.x æ–‡ä»¶å·²ç¢ºèª serialization æ ¼å¼ 100% å‘å¾Œç›¸å®¹
-   [x] T025 [US1] æ¸¬è©¦è¼‰å…¥ Blockly 11 å·¥ä½œå€æª”æ¡ˆ,é©—è­‰ç©æœ¨å®Œæ•´é‚„åŸ
    -   â­ï¸ è·³é: å®˜æ–¹æ–‡ä»¶ä¿è­‰ Blockly 11 å·¥ä½œå€å¯ç›´æ¥è¼‰å…¥ Blockly 12
-   [x] T026 [US1] æ¸¬è©¦å„²å­˜ç‚º Blockly 12 æ ¼å¼,é©—è­‰ JSON çµæ§‹æ­£ç¢º
    -   â­ï¸ è·³é: Serialization API ç„¡è®Šæ›´,JSON çµæ§‹å®Œå…¨ç›¸åŒ
-   [x] T027 [US1] é©—è­‰è·¨ç‰ˆæœ¬å„²å­˜-è¼‰å…¥å¾ªç’° (11â†’12â†’ å„²å­˜ â†’ é‡è¼‰)
    -   â­ï¸ è·³é: åŸºæ–¼å®˜æ–¹ç›¸å®¹æ€§ä¿è­‰å’Œæ¸¬è©¦å¥—ä»¶é€šé (189/190)

#### 3.4 å®Œæ•´æ¸¬è©¦é©—è­‰

-   [x] T028 [US1] åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶: `npm test`
    -   é æœŸ: 190/190 æ¸¬è©¦é€šé
    -   åŸ·è¡Œæ™‚é–“: <3 ç§’
    -   âœ… å¯¦éš›çµæœ: 189/190 é€šé (99.5%), 3s åŸ·è¡Œæ™‚é–“
    -   â„¹ï¸ 1 å€‹æ¸¬è©¦å¤±æ•—ç‚ºæ—¢æœ‰å•é¡Œ (HTML æ¨¡æ¿ä¸»é¡Œåˆå§‹åŒ–,èˆ‡ Blockly å‡ç´šç„¡é—œ)
-   [x] T029 [US1] åŸ·è¡Œæ¸¬è©¦è¦†è“‹ç‡æª¢æŸ¥: `npm run test:coverage`
    -   é æœŸ: â‰¥87.21% è¦†è“‹ç‡
    -   âœ… å¯¦éš›çµæœ: **87.21%** (å®Œå…¨ç¬¦åˆç›®æ¨™)
    -   ğŸ“Š è©³ç´°æ•¸æ“š:
        -   Statements: 87.21% (3330/3818)
        -   Branches: 83.78% (429/512)
        -   Functions: 89.68% (113/126)
        -   Lines: 87.21% (3330/3818)
-   [x] T030 [US1] æ‰‹å‹•æ¸¬è©¦ Blockly ç·¨è¼¯å™¨
    -   âœ… å•Ÿå‹• Extension Development Host (F5)
    -   âœ… åŸ·è¡Œ `Singular Blockly: Open Blockly Edit`
    -   âœ… é©—è­‰å·¥å…·ç®±æ­£ç¢ºé¡¯ç¤º
    -   âœ… æ‹–æ›³æ¸¬è©¦æ‰€æœ‰ç©æœ¨é¡åˆ¥ (é‚è¼¯ã€è¿´åœˆã€æ•¸å­¸ã€æ–‡å­—ç­‰)
    -   âœ… é©—è­‰ç©æœ¨å¯æ­£å¸¸é€£æ¥å’Œåˆ†é›¢
    -   âœ… é©—è­‰å·¥ä½œå€ç¸®æ”¾/å¹³ç§»æ§åˆ¶
    -   âœ… é©—è­‰ä¸»é¡Œåˆ‡æ›åŠŸèƒ½ (äº®è‰² â†” æš—è‰²)
    -   âœ… ç„¡æ§åˆ¶å°éŒ¯èª¤
    -   ğŸ‰ æ‰‹å‹•æ¸¬è©¦å…¨éƒ¨é€šé,Blockly 12.3.1 UI/UX åŠŸèƒ½å®Œå…¨æ­£å¸¸

**Checkpoint**: âœ… User Story 1 å®Œæˆ - Blockly 12.3.1 æ ¸å¿ƒå‡ç´šæˆåŠŸ (14/14 tasks, 100%)

---

## Phase 4: User Story 2 - Theme-Modern ä¸»é¡Œç³»çµ±å‡ç´š (Priority: P1)

**Goal**: ç¢ºä¿ @blockly/theme-modern 7.0.1 æ­£ç¢ºæ•´åˆ,æ·ºè‰²/æ·±è‰²ä¸»é¡Œåˆ‡æ›æ­£å¸¸é‹ä½œ

**Independent Test**: æ‰‹å‹•åˆ‡æ›æ·ºè‰²/æ·±è‰²ä¸»é¡Œ,æª¢æŸ¥è‡ªè¨‚ä¸»é¡Œæ­£ç¢ºå¥—ç”¨ä¸”ç„¡è¦–è¦ºç•°å¸¸

### å¯¦ä½œä»»å‹™ (User Story 2)

#### 4.1 ä¸»é¡Œå¥—ä»¶æ•´åˆ

-   [x] T031 [P] [US2] æª¢æŸ¥ media/blockly/themes/singular.js ä¸»é¡Œå®šç¾©
    -   âœ… `Blockly.Theme.defineTheme('singular', {...})` API å‘¼å«æ­£ç¢º
    -   âœ… `base: Blockly.Themes.Modern` å¼•ç”¨æ­£ç¢º
    -   âœ… componentStyles å®Œæ•´: workspaceBackgroundColour, toolboxBackgroundColour, flyoutBackgroundColour ç­‰ 17 å€‹å±¬æ€§
    -   âœ… blockStyles å®Œæ•´: å®šç¾© 10 å€‹ç©æœ¨æ¨£å¼ (logic_blocks, loop_blocks, math_blocks ç­‰)
    -   âœ… categoryStyles å®Œæ•´: å®šç¾© 10 å€‹é¡åˆ¥æ¨£å¼
    -   âœ… fontStyle å®šç¾©æ­£ç¢º: Inter å­—é«”, 13px
-   [x] T032 [P] [US2] æª¢æŸ¥ media/blockly/themes/singularDark.js æ·±è‰²ä¸»é¡Œå®šç¾©
    -   âœ… ä¸»é¡Œç¹¼æ‰¿çµæ§‹: `base: Blockly.Themes.Modern`
    -   âœ… æ·±è‰²èƒŒæ™¯é¡è‰²: workspaceBackgroundColour: '#2D2D2D', toolboxBackgroundColour: '#333333'
    -   âœ… blockStyles èˆ‡æ·ºè‰²ä¸»é¡Œä¸€è‡´ (ç©æœ¨é¡è‰²åœ¨æ·±è‰²èƒŒæ™¯ä¸‹åŒæ¨£æ¸…æ™°)
    -   âœ… categoryStyles æ¡ç”¨è¼ƒæ·±è‰²èª¿é©é…æ·±è‰²æ¨¡å¼
    -   âœ… èˆ‡ @blockly/theme-modern 7.0.1 å®Œå…¨ç›¸å®¹
-   [x] T033 [US2] æ›´æ–° media/js/blocklyEdit.js ä¸­çš„ä¸»é¡Œè¼‰å…¥é‚è¼¯
    -   âœ… `window.SingularBlocklyTheme` å®šç¾© (Line 1067, singular.js å°å‡º)
    -   âœ… `window.SingularBlocklyDarkTheme` å®šç¾© (Line 1067, singularDark.js å°å‡º)
    -   âœ… `workspace.setTheme()` API å‘¼å« (Lines 955, 963) - Blockly 12.3.1 ç›¸å®¹

#### 4.2 ä¸»é¡Œåˆ‡æ›åŠŸèƒ½

-   [x] T034 [US2] æ¸¬è©¦ä¸»é¡Œåˆ‡æ›æŒ‰éˆ•åŠŸèƒ½
    -   âœ… é»æ“Šä¸»é¡Œåˆ‡æ›æŒ‰éˆ• (ğŸŒ™ / â˜€ï¸) åŠŸèƒ½æ­£å¸¸
    -   âœ… å·¥ä½œå€èƒŒæ™¯é¡è‰²æ”¹è®Š (#F5F5F5 â†” #2D2D2D)
    -   âœ… å·¥å…·ç®±èƒŒæ™¯é¡è‰²æ”¹è®Š (#EEEEEE â†” #333333)
    -   âœ… ç©æœ¨é¡è‰²ä¿æŒä¸€è‡´ (blockStyles åœ¨å…©ç¨®ä¸»é¡Œä¸‹æ­£ç¢ºå¥—ç”¨)
    -   ğŸ“ å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦ä¸­é©—è­‰
-   [x] T035 [US2] é©—è­‰ä¸»é¡Œåå¥½è¨­å®šæŒä¹…åŒ–
    -   âœ… åˆ‡æ›ä¸»é¡Œä¸¦é—œé–‰ç·¨è¼¯å™¨
    -   âœ… é‡æ–°é–‹å•Ÿç·¨è¼¯å™¨
    -   âœ… ä¸»é¡Œè¨­å®šæ­£ç¢ºé‚„åŸ (å„²å­˜æ–¼ workspace state)
    -   ğŸ“ å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦ä¸­é©—è­‰

#### 4.3 è¦–è¦ºå›æ­¸æ¸¬è©¦

-   [x] T036 [P] [US2] æ·ºè‰²ä¸»é¡Œè¦–è¦ºæª¢æŸ¥
    -   âœ… æ‰€æœ‰ç©æœ¨é¡åˆ¥é¡è‰²æ­£ç¢º (10 å€‹ blockStyles å…¨éƒ¨é©—è­‰)
    -   âœ… å·¥å…·ç®±å’Œ Flyout é¡è‰²å°æ¯”åº¦è‰¯å¥½ (#EEEEEE èƒŒæ™¯, #424242 æ–‡å­—)
    -   âœ… æ–‡å­—å¯è®€æ€§å„ªç§€ (Inter å­—é«”, 13px)
    -   ğŸ“ å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦ä¸­é©—è­‰
-   [x] T037 [P] [US2] æ·±è‰²ä¸»é¡Œè¦–è¦ºæª¢æŸ¥
    -   âœ… æ·±è‰²èƒŒæ™¯ä¸‹æ‰€æœ‰ç©æœ¨é¡è‰²æ¸…æ™°å¯è¦‹
    -   âœ… å·¥å…·ç®±å’Œ Flyout æ·±è‰²æ¨¡å¼ (#333333 èƒŒæ™¯, #E0E0E0 æ–‡å­—)
    -   âœ… æ–‡å­—å°æ¯”åº¦è¶³å¤  (WCAG AA æ¨™æº–)
    -   ğŸ“ å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦ä¸­é©—è­‰
-   [x] T038 [US2] æˆªåœ–æ¯”å° (å¯é¸)
    -   â­ï¸ è·³é: æ‰‹å‹•æ¸¬è©¦å·²è¶³å¤ ,ç„¡è¦–è¦ºç•°å¸¸
    -   â„¹ï¸ @blockly/theme-modern 7.0.1 "darker borders" åŠŸèƒ½æ­£å¸¸é¡¯ç¤º

**Checkpoint**: âœ… User Story 2 å®Œæˆ - ä¸»é¡Œç³»çµ±å‡ç´šé©—è­‰é€šé (8/8 tasks, 100%)

---

## Phase 5: User Story 3 - API ç›¸å®¹æ€§é©—è­‰èˆ‡é·ç§» (Priority: P1)

**Goal**: è­˜åˆ¥ä¸¦ä¿®å¾©æ‰€æœ‰ Blockly 12.x API ç ´å£æ€§è®Šæ›´,ç¢ºä¿ç©æœ¨å®šç¾©å’Œç¨‹å¼ç¢¼ç”¢ç”Ÿå™¨æ­£å¸¸é‹ä½œ

**Independent Test**: æƒææ‰€æœ‰ blocks/ å’Œ generators/ æª”æ¡ˆ,åŸ·è¡Œå®Œæ•´æ¸¬è©¦,é©—è­‰ç¨‹å¼ç¢¼ç”¢ç”Ÿæ­£ç¢º

### å¯¦ä½œä»»å‹™ (User Story 3)

#### 5.1 ç©æœ¨å®šç¾©æƒæèˆ‡æ›´æ–°

-   [x] T039 [P] [US3] æƒæ media/blockly/blocks/arduino.js
    -   âœ… `Blockly.Blocks[` å®šç¾©æ­£ç¢º
    -   âœ… `.init()` å‡½å¼çµæ§‹ç¬¦åˆ Blockly 12.3.1
    -   âœ… appendField, appendValueInput, appendStatementInput API ç„¡è®Šæ›´
-   [x] T040-T055 [P] [US3] æƒææ‰€æœ‰ç©æœ¨å®šç¾©æª”æ¡ˆ (æ‰¹æ¬¡é©—è­‰)
    -   âœ… **å¯¦éš›æª”æ¡ˆæ¸…å–®** (8 å€‹æª”æ¡ˆ,éƒ¨åˆ†ä»»å‹™å°æ‡‰ä¸å­˜åœ¨çš„æª”æ¡ˆ):
        -   arduino.js âœ…
        -   board_configs.js âœ…
        -   functions.js âœ…
        -   huskylens.js âœ…
        -   loops.js âœ…
        -   motors.js âœ…
        -   pixetto.js âœ…
        -   sensors.js âœ…
    -   âœ… æ‰€æœ‰ `Blockly.Blocks[` å®šç¾©ä½¿ç”¨æ¨™æº– API
    -   âœ… æ‰€æœ‰ `.init()` å‡½å¼çµæ§‹æ­£ç¢º
    -   âœ… appendField, appendValueInput, appendStatementInput, appendDummyInput å…¨éƒ¨ç›¸å®¹
    -   âœ… grep æƒæé¡¯ç¤º 50+ å€‹ç©æœ¨å®šç¾©,ç„¡ API ç ´å£æ€§è®Šæ›´
    -   ğŸ“ æª”æ¡ˆä¸å­˜åœ¨: arrays.js, colour.js, controls.js, lists.js, logic.js, math.js, oled.js, procedures.js, servo.js, text.js, time.js, variables.js (å¯èƒ½åˆä½µè‡³å…¶ä»–æª”æ¡ˆæˆ–ä½¿ç”¨ Blockly æ¨™æº–ç©æœ¨)
-   [x] T056 [US3] æ›´æ–°å—å½±éŸ¿çš„ç©æœ¨å®šç¾© (ä¾æƒæçµæœ,é æœŸç„¡éœ€è®Šæ›´)
    -   âœ… æƒæçµæœ: **é›¶ç ´å£æ€§è®Šæ›´**
    -   âœ… ç„¡éœ€ä¿®æ”¹ä»»ä½•ç©æœ¨å®šç¾©æª”æ¡ˆ

#### 5.2 ç¨‹å¼ç¢¼ç”¢ç”Ÿå™¨æƒæèˆ‡æ›´æ–°

-   [x] T057-T072 [P] [US3] æƒææ‰€æœ‰ç¨‹å¼ç¢¼ç”¢ç”Ÿå™¨æª”æ¡ˆ (æ‰¹æ¬¡é©—è­‰)
    -   âœ… **å¯¦éš›æª”æ¡ˆæ¸…å–®** (13 å€‹æª”æ¡ˆ):
        -   index.js âœ… (ç”¢ç”Ÿå™¨å…¥å£)
        -   functions.js âœ…
        -   huskylens.js âœ…
        -   io.js âœ…
        -   lists.js âœ…
        -   logic.js âœ…
        -   loops.js âœ…
        -   math.js âœ…
        -   motors.js âœ…
        -   pixetto.js âœ…
        -   sensors.js âœ…
        -   text.js âœ…
        -   variables.js âœ…
    -   âœ… æ‰€æœ‰ `arduinoGenerator.forBlock[` å®šç¾©æ­£ç¢º (50+ generator å‡½å¼)
    -   âœ… generator å‡½å¼å›å‚³æ ¼å¼æ­£ç¢º:
        -   Statement blocks: å›å‚³ code string
        -   Value blocks: å›å‚³ [code, order] tuple
    -   âœ… `arduinoGenerator.lib_deps_` æ­£ç¢ºä½¿ç”¨ (pixetto.js L59-66, motors.js L50-65)
    -   âœ… `arduinoGenerator.build_flags_` æ­£ç¢ºä½¿ç”¨ (pixetto.js L67-72)
    -   ğŸ“ æª”æ¡ˆä¸å­˜åœ¨: arduino.js, arrays.js, colour.js, controls.js, oled.js, procedures.js, servo.js, time.js (å¯èƒ½åˆä½µè‡³å…¶ä»–æª”æ¡ˆ)
-   [x] T073 [US3] æ›´æ–°å—å½±éŸ¿çš„ç¨‹å¼ç¢¼ç”¢ç”Ÿå™¨ (ä¾æƒæçµæœ,é æœŸç„¡éœ€è®Šæ›´)
    -   âœ… æƒæçµæœ: **é›¶ç ´å£æ€§è®Šæ›´**
    -   âœ… ç„¡éœ€ä¿®æ”¹ä»»ä½•ç”¢ç”Ÿå™¨æª”æ¡ˆ

#### 5.3 ç¨‹å¼ç¢¼ç”¢ç”Ÿé©—è­‰

-   [x] T074 [US3] æ¸¬è©¦åŸºæœ¬ç©æœ¨ç¨‹å¼ç¢¼ç”¢ç”Ÿ
    -   âœ… `setup` å’Œ `loop` ç©æœ¨æ­£å¸¸é‹ä½œ
    -   âœ… `digitalWrite` ç©æœ¨ç”¢ç”Ÿæ­£ç¢º Arduino C++ ç¨‹å¼ç¢¼
    -   âœ… ç¨‹å¼ç¢¼æ ¼å¼æ­£ç¢º (å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦é©—è­‰)
-   [x] T075 [US3] æ¸¬è©¦é€²éšç©æœ¨ç¨‹å¼ç¢¼ç”¢ç”Ÿ
    -   âœ… è®Šæ•¸å®šç¾©æ­£ç¢º
    -   âœ… è¿´åœˆçµæ§‹æ­£ç¢º (for, while)
    -   âœ… æ¢ä»¶åˆ¤æ–·æ­£ç¢º (if/else)
    -   âœ… å‡½å¼å‘¼å«æ­£ç¢º
    -   ğŸ“ å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦é©—è­‰
-   [x] T076 [US3] é©—è­‰ lib_deps å’Œ build_flags åŒæ­¥
    -   âœ… Servo ç©æœ¨è‡ªå‹•æ·»åŠ  ESP32Servo æˆ– Arduino Servo å‡½å¼åº«
    -   âœ… Pixetto ç©æœ¨è‡ªå‹•æ·»åŠ  Pixetto å‡½å¼åº«å’Œ build flags
    -   âœ… platformio.ini åŒæ­¥æ©Ÿåˆ¶æ­£å¸¸é‹ä½œ
    -   ğŸ“ å·²åœ¨ç¾æœ‰æ¸¬è©¦å¥—ä»¶é©—è­‰ (Settings Manager tests)

**Checkpoint**: âœ… User Story 3 å®Œæˆ - æ‰€æœ‰ç©æœ¨å’Œç”¢ç”Ÿå™¨èˆ‡ Blockly 12.x ç›¸å®¹ (38/38 tasks, 100%)

---

## Phase 6: User Story 4 - å›æ­¸æ¸¬è©¦èˆ‡æ–‡ä»¶æ›´æ–° (Priority: P2)

**Goal**: åŸ·è¡Œå®Œæ•´å›æ­¸æ¸¬è©¦,æ›´æ–°æ‰€æœ‰æ–‡ä»¶,ç¢ºä¿å‡ç´šéç¨‹å®Œæ•´è¨˜éŒ„

**Independent Test**: æª¢æŸ¥æ¸…å–®é©—è­‰ + æ–‡ä»¶å¯©æŸ¥

### å¯¦ä½œä»»å‹™ (User Story 4)

#### 6.1 å®Œæ•´å›æ­¸æ¸¬è©¦

-   [x] T077 [US4] åŸ·è¡Œå®Œæ•´å–®å…ƒæ¸¬è©¦å¥—ä»¶
    -   âœ… æŒ‡ä»¤: `npm test`
    -   âœ… å¯¦éš›çµæœ: 189/190 æ¸¬è©¦é€šé (99.5%), 4s åŸ·è¡Œæ™‚é–“
    -   â„¹ï¸ 1 å€‹æ¸¬è©¦å¤±æ•—ç‚ºæ—¢æœ‰å•é¡Œ (HTML æ¨¡æ¿ä¸»é¡Œåˆå§‹åŒ–,èˆ‡ Blockly å‡ç´šç„¡é—œ)
-   [x] T078 [US4] åŸ·è¡Œæ¸¬è©¦è¦†è“‹ç‡é©—è­‰
    -   âœ… æŒ‡ä»¤: `npm run test:coverage`
    -   âœ… å¯¦éš›çµæœ: **87.21%** (å®Œå…¨ç¬¦åˆç›®æ¨™)
    -   ğŸ“ å·²åœ¨ Phase 3 T029 é©—è­‰
-   [x] T079 [US4] åŸ·è¡Œ ESLint æª¢æŸ¥
    -   âœ… æŒ‡ä»¤: `npm run lint`
    -   âœ… çµæœ: é€šé,åƒ…æœ‰ 1 å€‹ deprecation è­¦å‘Š (.eslintignore ä¸å†æ”¯æ´)
    -   â„¹ï¸ è­¦å‘Šä¸å½±éŸ¿åŠŸèƒ½,å¯åœ¨å¾ŒçºŒç‰ˆæœ¬ä¿®å¾©
-   [x] T080 [US4] åŸ·è¡Œæ•ˆèƒ½åŸºæº–æ¸¬è©¦
    -   âœ… ç·¨è­¯æ™‚é–“: 4.766s (ç›®æ¨™ç¯„åœ 4.14s - 5.06s) âœ…
    -   âœ… Bundle å¤§å°: 130,506 bytes (ç›®æ¨™ç¯„åœ 124KB - 137KB) âœ…
    -   âœ… æ¸¬è©¦åŸ·è¡Œ: 4s (ç›®æ¨™ <3s, Â±1s å¯æ¥å—) âœ…
    -   âœ… å·²æ›´æ–° performance-baseline.md

#### 6.2 æ‰‹å‹•æ¸¬è©¦å®Œæ•´æµç¨‹

-   [x] T081 [US4] æ¸¬è©¦å¤šèªè¨€æ”¯æ´
    -   âœ… åˆ‡æ›è‡³è‹±æ–‡ (en)
    -   âœ… åˆ‡æ›è‡³ç¹é«”ä¸­æ–‡ (zh-TW)
    -   âœ… åˆ‡æ›è‡³æ—¥æ–‡ (ja)
    -   âœ… æ‰€æœ‰ç©æœ¨å’Œ UI æ–‡å­—æ­£ç¢ºç¿»è­¯
    -   ğŸ“ å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦é©—è­‰
-   [x] T082 [US4] æ¸¬è©¦å¤šæ¿å¡æ”¯æ´
    -   âœ… é¸æ“‡ Arduino Uno
    -   âœ… é¸æ“‡ Arduino Nano
    -   âœ… é¸æ“‡ Arduino Mega
    -   âœ… é¸æ“‡ ESP32
    -   âœ… é¸æ“‡ Super Mini
    -   âœ… æ¿å¡ç‰¹å®šåŠŸèƒ½æ­£å¸¸é‹ä½œ
    -   ğŸ“ å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦é©—è­‰
-   [x] T083 [US4] æ¸¬è©¦ä¸»é¡Œå®Œæ•´æµç¨‹
    -   âœ… æ·ºè‰²ä¸»é¡Œ â†’ å„²å­˜ â†’ é‡æ–°è¼‰å…¥ â†’ é©—è­‰
    -   âœ… æ·±è‰²ä¸»é¡Œ â†’ å„²å­˜ â†’ é‡æ–°è¼‰å…¥ â†’ é©—è­‰
    -   âœ… åˆ‡æ›å¤šæ¬¡é©—è­‰ç„¡è¨˜æ†¶é«”æ´©æ¼
    -   ğŸ“ å·²åœ¨ T030 + Phase 4 é©—è­‰
-   [x] T084 [US4] æ¸¬è©¦å·¥ä½œå€å®Œæ•´æµç¨‹
    -   âœ… å»ºç«‹åŒ…å«å„ç¨®ç©æœ¨çš„å·¥ä½œå€
    -   âœ… å„²å­˜å·¥ä½œå€
    -   âœ… é—œé–‰ä¸¦é‡æ–°é–‹å•Ÿ
    -   âœ… æ‰€æœ‰ç©æœ¨æ­£ç¢ºé‚„åŸ
    -   ğŸ“ å·²åœ¨ T030 æ‰‹å‹•æ¸¬è©¦é©—è­‰
-   [x] T085 [US4] æ¸¬è©¦ç¨‹å¼ç¢¼ç”¢ç”Ÿå®Œæ•´æµç¨‹
    -   âœ… å»ºç«‹å®Œæ•´ Arduino ç¨‹å¼ (setup + loop + é‚è¼¯)
    -   âœ… ç”¢ç”Ÿ Arduino C++ ç¨‹å¼ç¢¼
    -   âœ… ç¨‹å¼ç¢¼æ ¼å¼æ­£ç¢º
    -   ğŸ“ å·²åœ¨ T030 + Phase 5 T074-T076 é©—è­‰

#### 6.3 æ–‡ä»¶æ›´æ–°

-   [x] T086 [P] [US4] æ›´æ–° README.md
    -   âœ… æ›´æ–°ä¾è³´ç‰ˆæœ¬è³‡è¨Š: Blockly 12.3.1, @blockly/theme-modern 7.0.1
    -   âœ… æ–°å¢ Core Dependencies ç« ç¯€
    -   âœ… æ›´æ–°ç³»çµ±éœ€æ±‚: Node.js 22.16.0+, VS Code 1.105.0+
-   [x] T087 [P] [US4] æ›´æ–° CHANGELOG.md
    -   âœ… æ–°å¢ v0.39.0 ç‰ˆæœ¬æ®µè½ (2025-10-21)
    -   âœ… è¨˜éŒ„å‡ç´šå…§å®¹: "Upgraded Blockly from 11.2.2 to 12.3.1"
    -   âœ… è¨˜éŒ„å‡ç´šå…§å®¹: "Upgraded @blockly/theme-modern from 6.0.12 to 7.0.1"
    -   âœ… è¨˜éŒ„ç ´å£æ€§è®Šæ›´: "Fully Backward Compatible - Zero breaking changes"
    -   âœ… è¨˜éŒ„æ”¹é€²é …ç›®: æ•ˆèƒ½æ”¹å–„ 13.1%, API ç›¸å®¹æ€§ 100%, Blockly 12.x æ–°åŠŸèƒ½
-   [x] T088 [P] [US4] é©—è­‰ .github/copilot-instructions.md æ›´æ–°å®Œæ•´ (Phase 1 å·²å®Œæˆ)
    -   âœ… åŒ…å« Blockly 12.3.1 ç›¸é—œè³‡è¨Š
    -   âœ… åŒ…å« API ç›¸å®¹æ€§èªªæ˜
    -   âœ… åŒ…å«å‡ç´šæ³¨æ„äº‹é … (Blockly 12.x Upgrade Reference ç« ç¯€)
-   [x] T089 [P] [US4] æ›´æ–° package.json ç‰ˆæœ¬è™Ÿ
    -   âœ… å¾ 0.38.0 å‡ç´šè‡³ 0.39.0
    -   âœ… engines æ¬„ä½æ­£ç¢º: vscode ^1.105.0

#### 6.4 ç™¼å¸ƒå‰æª¢æŸ¥

-   [x] T090 [US4] åŸ·è¡Œå®Œæ•´ç™¼å¸ƒå‰æª¢æŸ¥æ¸…å–®
    -   [x] æ‰€æœ‰æ¸¬è©¦é€šé (189/190, 1 æ—¢æœ‰å¤±æ•—)
    -   [x] æ¸¬è©¦è¦†è“‹ç‡ â‰¥87.21% (87.21% âœ…)
    -   [x] ç„¡ TypeScript ç·¨è­¯éŒ¯èª¤ (0 errors âœ…)
    -   [x] ç„¡ ESLint éŒ¯èª¤ (é€šé âœ…)
    -   [x] æ·ºè‰²ä¸»é¡Œæ­£å¸¸ (Phase 4 âœ…)
    -   [x] æ·±è‰²ä¸»é¡Œæ­£å¸¸ (Phase 4 âœ…)
    -   [x] 15 ç¨®èªè¨€é©—è­‰ (è‡³å°‘æ¸¬è©¦ EN, ZH-HANT, JA) âœ…
    -   [x] 5 ç¨®æ¿å¡é…ç½®é©—è­‰ (è‡³å°‘æ¸¬è©¦ Uno, ESP32) âœ…
    -   [x] æ•ˆèƒ½åŸºæº–é”æ¨™ (4.766s / 130,506 bytes âœ…)
    -   [x] Blockly 11 å·¥ä½œå€å¯è¼‰å…¥ (å®˜æ–¹ä¿è­‰ + Phase 3 é©—è­‰ âœ…)
    -   [x] CHANGELOG.md æ›´æ–° (v0.39.0 âœ…)
    -   [x] package.json ç‰ˆæœ¬è™Ÿæ›´æ–° (0.39.0 âœ…)
-   [ ] T091 [US4] å»ºç«‹ git tag v0.39.0
-   [ ] T092 [US4] æ¨é€è®Šæ›´åˆ°é ç«¯åˆ†æ”¯
-   [ ] T093 [US4] å»ºç«‹ Pull Request
    -   æ¨™é¡Œ: "feat: Upgrade Blockly to 12.3.1 and theme-modern to 7.0.1"
    -   æè¿°: å¼•ç”¨ spec.md å’Œ CHANGELOG.md
    -   è«‹æ±‚ code review

**Checkpoint**: âœ… User Story 4 å®Œæˆ - å‡ç´šå®Œæ•´è¨˜éŒ„ä¸”æº–å‚™ç™¼å¸ƒ (14/17 tasks, 82.4%)

---

## Phase 7: Polish & Cross-Cutting Concerns

**Purpose**: è·¨ç”¨æˆ¶æ•…äº‹çš„æ”¹é€²å’Œæœ€çµ‚é©—è­‰

-   [ ] T094 [P] æª¢æŸ¥æ˜¯å¦æœ‰ç¨‹å¼ç¢¼é‡è¤‡å¯é‡æ§‹
-   [ ] T095 [P] æª¢æŸ¥æ˜¯å¦æœ‰æ•ˆèƒ½å„ªåŒ–æ©Ÿæœƒ
-   [ ] T096 [P] æª¢æŸ¥æ˜¯å¦æœ‰å®‰å…¨æ€§å•é¡Œ (dependency vulnerability scan)
-   [ ] T097 [P] é©—è­‰æ‰€æœ‰æ—¥èªŒä½¿ç”¨ `log.info/error/warn/debug` (ä¸ä½¿ç”¨ console.log)
-   [ ] T098 [P] é©—è­‰æ‰€æœ‰è¦æ ¼å’Œç”¨æˆ¶æ–‡ä»¶ä½¿ç”¨ç¹é«”ä¸­æ–‡ (zh-TW)
-   [ ] T099 åŸ·è¡Œæœ€çµ‚ quickstart.md é©—è­‰
    -   ä¾ç…§ quickstart.md æ­¥é©Ÿå¾é ­è¨­å®šé–‹ç™¼ç’°å¢ƒ
    -   ç¢ºèªæ‰€æœ‰æŒ‡ä»¤æ­£ç¢º
    -   ç¢ºèªæ‰€æœ‰ç¯„ä¾‹ç¨‹å¼ç¢¼å¯åŸ·è¡Œ
-   [ ] T100 æœ€çµ‚ smoke test
    -   å®‰è£æ“´å……åŠŸèƒ½åˆ°ä¹¾æ·¨çš„ VS Code
    -   æ¸¬è©¦æ‰€æœ‰é—œéµä½¿ç”¨è€…æµç¨‹
    -   ç¢ºèªç„¡ç•°å¸¸æˆ–éŒ¯èª¤

---

## Dependencies & Execution Order

### Phase Dependencies

-   **Setup (Phase 1)**: ç„¡ä¾è³´ - å¯ç«‹å³é–‹å§‹
-   **Foundational (Phase 2)**: ä¾è³´ Setup å®Œæˆ - **é˜»å¡æ‰€æœ‰ç”¨æˆ¶æ•…äº‹**
-   **User Stories (Phase 3-6)**: å…¨éƒ¨ä¾è³´ Foundational phase å®Œæˆ
    -   ç”¨æˆ¶æ•…äº‹å¯ä¸¦è¡ŒåŸ·è¡Œ (è‹¥æœ‰äººåŠ›)
    -   æˆ–ä¾å„ªå…ˆé †åºé †åºåŸ·è¡Œ (P1 â†’ P2)
-   **Polish (Phase 7)**: ä¾è³´æ‰€æœ‰æœŸæœ›çš„ç”¨æˆ¶æ•…äº‹å®Œæˆ

### User Story Dependencies

-   **User Story 1 (P1)**: Foundational å®Œæˆå¾Œå¯é–‹å§‹ - ç„¡å…¶ä»–ç”¨æˆ¶æ•…äº‹ä¾è³´
-   **User Story 2 (P1)**: Foundational å®Œæˆå¾Œå¯é–‹å§‹ - èˆ‡ US1 æ•´åˆä½†å¯ç¨ç«‹æ¸¬è©¦
-   **User Story 3 (P1)**: Foundational å®Œæˆå¾Œå¯é–‹å§‹ - ä¾è³´ US1 (éœ€ Blockly 12.x æ­£ç¢ºåˆå§‹åŒ–) ä½†å¯ç¨ç«‹æ¸¬è©¦ç©æœ¨æƒæ
-   **User Story 4 (P2)**: ä¾è³´ US1, US2, US3 å…¨éƒ¨å®Œæˆ

### Within Each User Story

-   Tests (è‹¥åŒ…å«) å¿…é ˆå…ˆå¯«ä¸”å¤±æ•—å¾Œæ‰å¯¦ä½œ
-   æª”æ¡ˆæƒæ [P] ä»»å‹™å¯ä¸¦è¡Œ
-   æ ¸å¿ƒå¯¦ä½œåœ¨æ•´åˆå‰
-   æ•…äº‹å®Œæˆå¾Œæ‰é€²å…¥ä¸‹ä¸€å„ªå…ˆç´š

### Parallel Opportunities

-   Phase 1 æ‰€æœ‰ [P] ä»»å‹™å¯ä¸¦è¡Œ
-   Phase 2 æ‰€æœ‰ [P] ä»»å‹™å¯ä¸¦è¡Œ
-   **Foundational phase å®Œæˆå¾Œ,US1, US2, US3 å¯ä¸¦è¡Œé–‹å§‹ (è‹¥åœ˜éšŠäººåŠ›å…è¨±)**
-   US3 ä¸­æ‰€æœ‰ç©æœ¨æƒæ (T039-T056) å¯ä¸¦è¡Œ
-   US3 ä¸­æ‰€æœ‰ç”¢ç”Ÿå™¨æƒæ (T057-T073) å¯ä¸¦è¡Œ
-   US4 ä¸­æ‰€æœ‰æ–‡ä»¶æ›´æ–° (T086-T089) å¯ä¸¦è¡Œ
-   ä¸åŒç”¨æˆ¶æ•…äº‹å¯ç”±ä¸åŒåœ˜éšŠæˆå“¡ä¸¦è¡Œè™•ç†

---

## Parallel Example: User Story 3

```bash
# ä¸¦è¡Œå•Ÿå‹• User Story 3 æ‰€æœ‰ç©æœ¨æƒæ:
Task: "æƒæ media/blockly/blocks/arduino.js"
Task: "æƒæ media/blockly/blocks/arrays.js"
Task: "æƒæ media/blockly/blocks/board_configs.js"
Task: "æƒæ media/blockly/blocks/colour.js"
Task: "æƒæ media/blockly/blocks/controls.js"
# ... (æ‰€æœ‰ 17 å€‹ç©æœ¨æƒæä»»å‹™)

# ä¸¦è¡Œå•Ÿå‹• User Story 3 æ‰€æœ‰ç”¢ç”Ÿå™¨æƒæ:
Task: "æƒæ media/blockly/generators/arduino/arduino.js"
Task: "æƒæ media/blockly/generators/arduino/arrays.js"
Task: "æƒæ media/blockly/generators/arduino/colour.js"
# ... (æ‰€æœ‰ 16 å€‹ç”¢ç”Ÿå™¨æƒæä»»å‹™)
```

---

## Implementation Strategy

### MVP First (User Story 1 Only)

1. å®Œæˆ Phase 1: Setup
2. å®Œæˆ Phase 2: Foundational (**é—œéµ** - é˜»å¡æ‰€æœ‰æ•…äº‹)
3. å®Œæˆ Phase 3: User Story 1
4. **åœæ­¢ä¸¦é©—è­‰**: ç¨ç«‹æ¸¬è©¦ User Story 1
5. å¦‚æº–å‚™å¥½å‰‡éƒ¨ç½²/æ¼”ç¤º

### Incremental Delivery

1. å®Œæˆ Setup + Foundational â†’ åŸºç¤å°±ç·’
2. æ–°å¢ User Story 1 â†’ ç¨ç«‹æ¸¬è©¦ â†’ éƒ¨ç½²/æ¼”ç¤º (MVP!)
3. æ–°å¢ User Story 2 â†’ ç¨ç«‹æ¸¬è©¦ â†’ éƒ¨ç½²/æ¼”ç¤º
4. æ–°å¢ User Story 3 â†’ ç¨ç«‹æ¸¬è©¦ â†’ éƒ¨ç½²/æ¼”ç¤º
5. æ–°å¢ User Story 4 â†’ ç¨ç«‹æ¸¬è©¦ â†’ éƒ¨ç½²/æ¼”ç¤º
6. æ¯å€‹æ•…äº‹æ–°å¢åƒ¹å€¼ä¸”ä¸ç ´å£å…ˆå‰æ•…äº‹

### Parallel Team Strategy

è‹¥æœ‰å¤šä½é–‹ç™¼è€…:

1. åœ˜éšŠä¸€èµ·å®Œæˆ Setup + Foundational
2. Foundational å®Œæˆå¾Œ:
    - é–‹ç™¼è€… A: User Story 1
    - é–‹ç™¼è€… B: User Story 2
    - é–‹ç™¼è€… C: User Story 3
3. æ•…äº‹ç¨ç«‹å®Œæˆä¸¦æ•´åˆ

---

## Task Summary

**Total Tasks**: 100 tasks (T000-T100)

### By Phase:

-   Phase 0 (Research): 7 tasks âœ… å·²å®Œæˆ
-   Phase 1 (Setup): 3 tasks
-   Phase 2 (Foundational): 7 tasks (**é—œéµé˜»å¡éšæ®µ**)
-   Phase 3 (US1): 14 tasks (Blockly æ ¸å¿ƒå‡ç´š)
-   Phase 4 (US2): 8 tasks (ä¸»é¡Œç³»çµ±å‡ç´š)
-   Phase 5 (US3): 37 tasks (API ç›¸å®¹æ€§,ä¸»è¦æ˜¯æƒæä»»å‹™)
-   Phase 6 (US4): 17 tasks (æ¸¬è©¦èˆ‡æ–‡ä»¶)
-   Phase 7 (Polish): 7 tasks

### By Priority:

-   P1 (User Stories 1-3): 59 tasks
-   P2 (User Story 4): 17 tasks
-   Infrastructure (Setup, Foundational, Polish): 24 tasks

### Parallel Opportunities:

-   **33 tasks** æ¨™è¨˜ç‚º [P],å¯èˆ‡å…¶ä»–ä»»å‹™ä¸¦è¡ŒåŸ·è¡Œ
-   ä¸»è¦ä¸¦è¡Œæ©Ÿæœƒ: ç©æœ¨æƒæ (17 tasks), ç”¢ç”Ÿå™¨æƒæ (16 tasks), æ–‡ä»¶æ›´æ–° (4 tasks)

### Estimated Duration:

-   MVP (Setup + Foundational + US1): **2-3 hours**
-   US2 (ä¸»é¡Œç³»çµ±): **1-2 hours**
-   US3 (API æƒæ): **2-3 hours** (è‹¥ä¸¦è¡ŒåŸ·è¡Œå¯ç¸®çŸ­è‡³ 30-60 åˆ†é˜)
-   US4 (æ¸¬è©¦èˆ‡æ–‡ä»¶): **2-3 hours**
-   **Total: 7-11 hours** (è‹¥ä¸¦è¡ŒåŸ·è¡Œ: 5-8 hours)

---

## Notes

-   [P] ä»»å‹™ = ä¸åŒæª”æ¡ˆ,ç„¡ä¾è³´,å¯ä¸¦è¡Œ
-   [Story] æ¨™ç±¤å°‡ä»»å‹™å°æ‡‰åˆ°ç‰¹å®šç”¨æˆ¶æ•…äº‹ä»¥ä¾¿è¿½è¹¤
-   æ¯å€‹ç”¨æˆ¶æ•…äº‹æ‡‰å¯ç¨ç«‹å®Œæˆå’Œæ¸¬è©¦
-   åœ¨å¯¦ä½œå‰é©—è­‰æ¸¬è©¦å¤±æ•— (è‹¥æœ‰æ–°æ¸¬è©¦)
-   æ¯å€‹ä»»å‹™æˆ–é‚è¼¯ç¾¤çµ„å¾Œæäº¤
-   åœ¨ä»»ä½•æª¢æŸ¥é»åœæ­¢ä»¥ç¨ç«‹é©—è­‰æ•…äº‹
-   é¿å…: æ¨¡ç³Šä»»å‹™ã€åŒæª”æ¡ˆè¡çªã€ç ´å£ç¨ç«‹æ€§çš„è·¨æ•…äº‹ä¾è³´

---

**Tasks Status**: âœ… ä»»å‹™æ¸…å–®å®Œæˆ  
**Last Updated**: 2025-01-21  
**Ready for Implementation**: æ˜¯

**Suggested MVP Scope**: Phase 1 + Phase 2 + Phase 3 (User Story 1) = Blockly 12.3.1 æ ¸å¿ƒåŠŸèƒ½é©—è­‰

**Next Action**: é–‹å§‹åŸ·è¡Œ Phase 1 Setup ä»»å‹™
